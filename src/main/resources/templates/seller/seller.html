<!DOCTYPE html>

<html lang = "en" xmlns:th="http://www.thymeleaf.org">

    <head>

        <meta charset = "UTF-8">
        <title th:text="${seller.firstName} + ' ' + ${seller.lastName}"></title>

    </head>

    <body>

        <h1 th:text="'Seller Profile for: ' + ${seller.firstName} + ' ' + ${seller.lastName}"></h1>
        <h3 th:text="${seller.firstName}"></h3>
        <h3 th:text="${seller.lastName}"></h3>
        <h3 th:text="${seller.email}"></h3> <br />

        <h2>Properties: </h2>
        <table>
            <tr>
                <th>state: </th>
                <th>city: </th>
                <th>address: </th>
            </tr>

            <tr th:each="property : ${seller.properties}">
                <td th:text="${property.state}"></td>
                <td th:text="${property.city}"></td>
                <td th:text="${property.streetAddress}"></td>
                <td> <a href="#" th:href="@{/properties/{id}(id=${property.id})}">
                    <button>See property details</button> </a> </td>
            </tr>
        </table> <br/>

        <h2>Recieved Messages: </h2>
        <table>
            <tr>
                <th>buyerId: </th>
                <th>title: </th>
                <th>message: </th>
            </tr>

            <tr th:each="message : ${seller.recievedMessages}">
                <td th:text="${message.buyerId}"></td>
                <td th:text="${message.title}"></td>
                <td th:text="${message.body}"></td>
            </tr>
        </table> <br/>

        <h2>Sent Messages: </h2>
        <table>
            <tr>
                <th>buyerId: </th>
                <th>title: </th>
                <th>message: </th>
            </tr>

            <tr th:each="message : ${seller.sentMessages}">
                <td th:text="${message.buyerId}"></td>
                <td th:text="${message.title}"></td>
                <td th:text="${message.body}"></td>
            </tr>
        </table> <br/>

        <a href="#" th:href="@{/sellers/edit/{id}(id=${seller.id})}"><button>Edit details</button> </a>
        <a href="#" th:href="@{/sellers/delete/{id}(id=${seller.id})}" methods="delete">
            <button>Delete Profile</button> </a>

    </body>

</html>
